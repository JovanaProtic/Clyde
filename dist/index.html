<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
        integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=New+Rocker" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css" />
    <title> Clyde | Glam band from Serbia </title>
</head>

<body>
    <header class="v-header container">
        <div class="fullscreen-video-wrap">
            <video id="music-video" src="video/videoplayback.mp4" autoplay="true" loop="true"></video>
        </div>
        <div class="header-overlay"></div>
        <div class="header-content">
            <h1> Gift of Light </h1>
            <p> New music video </p>
            <a href="https://www.youtube.com/watch?v=JKeY5spJJ9g" class="btn" target="_blank"> Watch on YouTube </a>
        </div>
        <i id="header-scroll" class="fas fa-angle-double-down"></i>
    </header>
    <nav>
        <ul>
            <li> Photos </li>
            <li> Videos </li>
            <li> Bio </li>
            <li> Members </li>
            <li> Store </li>
            <li> Contact </li>
        </ul>
    </nav>

    <aside class="sticky">
        <section id="text" class="text">
            <strong> New album </strong>
            <h1> Paint the Scene </h1>
            <strong> coming soon </strong>
        </section>
        <section id="image" class="image">
            <img src="img/album-cover.png" />
        </section>
    </aside>

    <main>
        <article class="photos">
            <h1> Photos </h1>
            <section class="gallery">
                <a class="img-item" href="javascript:;">
                    <img src="img/band1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/img1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs2.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/ss1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs3.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/band1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/img1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs2.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/ss1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs3.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/band1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/img1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs2.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/ss1.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
                <a class="img-item" href="#">
                    <img src="img/rs3.jpg"
                        onclick="modal.style.display = 'block'; document.getElementById('img01').src = this.src;" />
                </a>
            </section>
        </article>
        <!-- <article>
            <h1> Videos </h1>
        </article>
        <article>
            <h1> Bio </h1>
        </article>
        <article>
            <h1> Members </h1>
        </article>
        <article>
            <h1> Store </h1>
        </article>
        <article>
            <h1> Contact </h1>
        </article> -->
    </main>

    <!-- The Image Modal -->
    <aside id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
    </aside>

    <footer> Copyright by <strong>CodingApocalypse</strong> &copy;</footer>
    <script>
        document.getElementById('music-video').addEventListener('loadedmetadata', function () {
            this.currentTime = 100;
        }, false);

        // Photos section
        const observer = new IntersectionObserver(f, {
            threshold: [0, 1]
        });

        function f(entries) {
            for (const entry of entries) {
                if (entry.isIntersecting && entry.intersectionRatio >= 1) {
                    entry.target.classList.toggle("inbound", true)
                }
                else {
                    entry.target.classList.toggle("inbound", false)
                }
            }
        }

        const itemEls = Array.from(document.querySelectorAll(".img-item"));
        for (const itemEl of itemEls)
            observer.observe(itemEl)

        function imgWindow() {
            window.open("image")
        }

        // Get the modal
        var modal = document.getElementById('myModal');

        // Get the image and insert it inside the modal - use its "alt" text as a caption
        var img = document.querySelectorAll('.img-item');
        var modalImg = document.getElementById("img01");
        img.onclick = function () {
            modal.style.display = "block";
            // modalImg.src = this.src;
            modalImg.attr('src', this.src);
        }

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // Img slide on scroll
        // var tl = new
        //     TimelineMax({ onUpdate: updatePercentage });
        // const controller = new scrollMagic.Controller();

        // tl.from('#text', 1, { x: -200, opacity: 0 });
        // tl.from('#image', 1, { x: 200, opacity: 0 });

        // const scene = new scrollMagic.Scene({
        //     triggerElement: '.sticky',
        //     triggerHook: 'onLeave',
        //     duration: '100%'
        // });

        // .setPin('.sticky')
        //     .setTween(tl)
        //     .addTo(controller);

        // function updatePercentage() {
        //     tl.progress();
        // }

    </script>
</body>

</html>